commonfields:
  id: Redmine
  version: -1
name: Redmine
display: Redmine
category: Utilities
description: 'A project management and issue tracking system that provides a web-based
  platform for managing projects, tracking tasks, and handling various types of project-related
  activities. '
configuration:
- section: Connect
  display: Server URL (e.g. https://1.1.1.1)
  name: url
  type: 0
  required: true
- display: Trust any certificate (not secure)
  name: insecure
  type: 8
  required: false
- section: Connect
  display: ""
  displaypassword: API Key
  name: credentials
  type: 9
  required: true
  hiddenusername: true
- section: Collect
  display: Project Id
  name: project_id
  additionalinfo: This project ID will be overridden by command project ID if one is provided within a command.
  type: 0
  required: false
script: 
  type: python
  commands:
  - name: redmine-issue-create
    description: |
      - Create a new issue
      - When attaching a file to an issue, include the entry ID in the request as file_entry_id=the ID you created
      - To create a custom field, navigate to the server URL with administrative privileges, click on 'Administration' (located at the top left), select 'Custom fields,' then proceed to create a new custom field. Once created, you can add values as needed
      - To create a category/version, navigate to the server URL -> Click on the Settings (top bar) -> Versions tab and Issue categories tab
    arguments:
    - name: project_id
      description: Enter the project ID for this issue. If not specified, the value from integration configuration will be taken.
      required: false
    - name: tracker_id
      auto: PREDEFINED
      description: Enter the tracker ID for this issue
      predefined:
      - Bug
      - Feature
      - Support
      required: true
    - name: status_id
      auto: PREDEFINED
      required: true
      description: Enter the status ID for this issue
      predefined:
      - New
      - In progress
      - Resolved
      - Feedback
      - Closed
      - Rejected
    - name: priority_id
      auto: PREDEFINED
      required: true
      description: Enter the priority ID for this issue
      predefined:
      - Low
      - Normal
      - High
      - Urgent
      - Immediate
    - name: subject
      required: true
      description: Enter the subject for this issue
    - name: description
      description: Enter a description for this issue
    - name: category_id
      description: Enter the category ID for this issue
    - name: fixed_version_id
      description: Enter the target version ID for this issue
    - name: assigned_to_id
      description: Enter the ID of the user to assign the issue to
    - name: parent_issue_id
      description: Enter the ID of the parent issue
    - name: custom_fields
      description: Insert the custom field to update, THE FORMAT is costumFieldID:Value,costumFieldID:Value etc...
      isArray: true
    - name: watcher_user_ids
      description: Add an array with watcher user IDs for this issue -> 1,2,3
      isArray: true
    - name: is_private
      description: Is the issue private?
      auto: PREDEFINED
      predefined:
      - True
      - False
    - name: estimated_hours
      description: Enter the number of hours estimated for this issue
    - name: file_entry_id
      description: Enter the entry ID of the file to upload
    - name: file_name
      description: Enter the name of the file to attach. Make sure the file name ends with .jpg/png/txt
    - name: file_description
      description: Enter the description of the file you attached
    - name: file_content_type
      description:  Enter the file content type of the file you attached
    outputs:
      - contextPath: Redmine.Issue.id
        description: The ID of the new issue.
      - contextPath: Redmine.Issue.priority.id
        description: The ID of the priority of the issue.
      - contextPath: Redmine.Issue.tracker.id
        description: The ID of the tracker of the issue.
      - contextPath: Redmine.Issue.project.id
        description: The ID of the project of the issue.
      - contextPath: Redmine.Issue.status.id
        description: The ID of the status of the issue.
      - contextPath: Redmine.Issue.subject
        description: The subject of the issue.
  - name: redmine-issue-list
    description: Display a list of issues
    arguments:
    - name: page_number
      description: Enter the page number
    - name: page_size
      description: Enter the page size 
      defaultValue: '50'
    - name: limit
      description: Specify the number of issues to display in the response (maximum is 100)
      defaultValue: '25'
    - name: sort
      description: |
        - Specify a field to sort according to. Append ":desc" to invert the order.
        - Possible values:
        1. tracker.
        2. status.
        3. priority.
        4. project.
        5. subproject.
        6. assigned_to.
        - For example: sort=tracker:desc.
    - name: include
      description: | 
        - Specify an array of extra fields to fetch.
        - Possible values:
            1. attachments.
            2. relations.
      isArray: true
    - name: issue_id
      description: Specify an array of issue IDs to display -> 1,2,3
      isArray: true
    - name: project_id
      description: Specify a project ID to display issues of this project. If not specified here or in the integration configuration, all projects will be displayed.
    - name: subproject_id
      description: Specify a subproject ID to display issues of this subproject (use "project_id=someID" and "subproject_id=!name_of_subproject" to exclude subprojects)
    - name: tracker_id
      auto: PREDEFINED
      description: Specify a tracker ID to display issues of this tracker ID
      predefined:
      - Bug
      - Feature
      - Support
    - name: status_id
      auto: PREDEFINED
      description: Specify a status ID to display issues of this status ID (* means all)
      predefined:
      - open
      - closed
      - '*'
    - name: assigned_to_id
      description: Specify an assigned-to ID to display issues assigned to this user ID
    - name: parent_id
      description: Specify a parent ID to display issues that are under this parent ID
    - name: custom_field
      description: | 
        - Insert the custom field to filter with, THE FORMAT is costumFieldID:Value.
        - To filter according to the desired custom field, ensure that it is marked as 'used as a filter' and 'searchable' in your Redmine server settings.  
        - You can only filter one custom field at a time. 
        - Make sure the custom field id you entered is valid, or the request won't fail but will not be filtered correctly   
    outputs:
      - contextPath: Redmine.Issue
        description: Display a list of issues
      - contextPath: Redmine.Issue.id
        description: Display a list of issues  
  - name: redmine-issue-update
    description: 
      Update an existing issue
      When attaching a file to an issue, include the entry ID in the request as file_entry_id=the ID you created
      To create a custom field, navigate to the server URL with administrative privileges, click on 'Administration' (located at the top left), select 'Custom fields,' then proceed to create a new custom field. Once created, you can add values as needed
    arguments:
    - name: issue_id
      description: The ID of the issue to be updated
      required: true
    - name: project_id
      description: The ID of the project to associate with the issue. If not specified, the value from integration configuration will be taken if specified.
    - name: tracker_id
      auto: PREDEFINED
      description: The ID of the tracker type
      predefined:
      - Bug
      - Feature
      - Support
    - name: status_id
      auto: PREDEFINED
      description: The ID of the status to set for the issue
      predefined:
      - New
      - In progress
      - Resolved
      - Feedback
      - Closed
      - Rejected
    - name: priority_id
      auto: PREDEFINED
      description: The ID of the priority level for the issue
      predefined:
      - Low
      - Normal
      - High
      - Urgent
      - Immediate
    - name: subject
      description: The subject of the issue
    - name: description
      description: The description of the issue
    - name: category_id
      description: The ID of the category to assign to the issue
    - name: fixed_version_id
      description: The ID of the fixed version for the issue
    - name: assigned_to_id
      description: The ID of the user to whom the issue is assigned
    - name: parent_issue_id
      description: The ID of the parent issue, if applicable
    - name: custom_fields
      description: Insert the custom field to update, THE FORMAT is costumFieldID:Value,costumFieldID:Value etc...
      isArray: true
    - name: watcher_user_ids
      description: Add an array of watcher ids seperated with comma -> 1,2,3
      isArray: true
    - name: is_private
      auto: PREDEFINED
      description: Is the issue private? (True/False)
      predefined:
      - 'True'
      - 'False'
    - name: estimated_hours
      description: The estimated number of hours to complete the issue
    - name: notes
      description: Additional comments about the update
    - name: private_notes
      auto: PREDEFINED
      description: Specifies if the notes are private (True/False)
      predefined:
      - 'True'
      - 'False'    
    - name: file_entry_id
      description: Required if uploading a file- The entry ID of the file to upload
    - name: file_name
      description: The name of the file to upload (should end with .jpg/.png/.txt etc...)
    - name: file_description
      description: The description of the attached file
    - name: file_content_type
      description: The content type of the attached file (image/jpg or image/png or text/txt etc...)
  - name: redmine-issue-show
    description: Show an issue by id
    arguments:
    - name: issue_id
      description: Add the id of the issue you want to show
      required: true
    - name: include
      description: |
        - fields to add to the response.
        - Possible values:
          1.children.
          2.attachments.
          3.relations.
          4.changesets.
          5.journals.
          6.watchers.
          7.allowed_statuses.
        - Separate multiple values with comma ONLY.
      isArray: true
    outputs:
      - contextPath: Redmine.Issue.id
        description: The ID of the found issue.
      - contextPath: Redmine.Issue.priority.id
        description: The ID of the priority of the issue.
      - contextPath: Redmine.Issue.tracker.id
        description: The ID of the tracker of the issue.
      - contextPath: Redmine.Issue.project.id
        description: The ID of the project of the issue.
      - contextPath: Redmine.Issue.status.id
        description: The ID of the status of the issue.
      - contextPath: Redmine.Issue.subject
        description: The subject of the issue.
      - contextPath: Redmine.Issue.watchers.id
        description: The watchers of the issue. 
  - name: redmine-issue-delete
    description: Delete an issue by its ID
    arguments:
    - name: issue_id
      description: The ID of the issue you want to delete
      required: true
  - name: redmine-issue-watcher-add
    description: Add a watcher to the specified issue
    arguments:
    - name: issue_id
      description: The ID of the issue to which you want to add a watcher
      required: true
    - name: watcher_id
      description: The ID of the watcher you want to add to the issue
      required: true
  - name: redmine-issue-watcher-remove
    description: Remove a watcher of an issue
    arguments:
    - name: issue_id
      description: The ID of the issue from which you want to remove the watcher
      required: true
    - name: watcher_id
      description: The ID of the watcher you want to remove from the issue
      required: true
  - name: redmine-project-list
    description: Retrieve a list of all projects, including both public and private ones that the user has access to.
    arguments:
    - name: include
      description: |
        - Specify which additional fields to include in the response.
        - Choose from the following options:
          1. trackers.
          2. issue_categories
          3. enabled_modules 
          4. time_entry_activities
          5. issue_custom_fields
        - Separate multiple values with comma ONLY.
      isArray: true
    outputs:
      - contextPath: Redmine.Project
        description: Display a list of projects accessible to the user.
  - name: redmine-custom-field-list
    description: Retrieve a list of all custom fields.
    arguments: 
    outputs:
      - contextPath: Redmine.CustomField
        description: Retrieve details of all custom fields.
      - contextPath: Redmine.CustomField.id
        description: Display ids of custom fields.
      - contextPath: Redmine.CustomField.name
        description: Display names of custom fields.
      - contextPath: Redmine.CustomField.customized_type
        description: Display customized_type of custom fields.
  - name: redmine-user-id-list
    description: |
      - Retrieve a list of users with optional filtering options.
      - This command requires admin privileges in your Redmine account.
    arguments:
    - auto: PREDEFINED 
      name: status
      description: Specify the status of users to retrieve
      predefined:
        - 'Active'
        - 'Registered'
        - 'Locked'
    - name: name
      description: Search for users matching a specific name (searches in first name, last name, and email).
    - name: group_id
      description: Specify the group ID to filter users by.
    outputs:
      - contextPath: Redmine.Users
        description: Display a list of users.
      - contextPath: Redmine.Users.id
        description: Display a list of users ids.
      - contextPath: Redmine.Users.login
        description: Display a list of users login usernames.
      - contextPath: Redmine.Users.admin
        description: Display a list of users admins permission.
      - contextPath: Redmine.Users.firstname
        description: Display a list of users first name.
      - contextPath: Redmine.Users.lastname
        description: Display a list of users last name.
      - contextPath: Redmine.Users.mail
        description: Display a list of users mails.
  dockerimage: demisto/python3:3.10.9.42476
  runonce: false
  subtype: python3
